@model WebApplication.Models.ServerViewModel
@{
    ViewBag.Title = "Подробно";
}
@using WebApplication.Areas.Launcher.Models.Json
@if (Model != null)
{
    <h2 class="page-title">Сервер @Model.Name</h2>
    <div class="row">
        <div class="col-md-5">
            @if (Model.Image != null && Convert.ToBase64String(Model.Image) != String.Empty)
            {
                <img alt="" id="server-image" src="data:image/jpeg;base64,@Convert.ToBase64String(Model.Image)" />
            }
            else
            {
                <img alt="" id="server-image" src="~/Content/Images/no-image.jpg" />
            }
        </div>
        <div class="col-md-7">
            <p>Статус: @Html.ServerStatusLabel(Model.ServerData.Status, Model.ServerData.Message)</p>

            <p>Игроки: @(Model.ServerData.PlayerCount) из @(Model.ServerData.MaxPlayerCount)</p>

            <p>Версия @Model.ClientVersion</p>

            <p>
                Установленные модификации:<br />
                @if (Model.Modifications != null && Model.Modifications.Count() > 0)
                {
                    foreach (var mod in Model.Modifications)
                    {
                        <a href="@Url.Action("Details", "Modification", new {id = mod.Id})">@mod.Name</a><br />
                    }
                }
                else
                {
                <p>Ванильный сервер</p>
                }
                </p>

                <p>
                    @Html.ActionLink("Edit", "Edit", new {id = Model.Id})
                    @Html.ActionLink("Delete", "Delete", new {id = Model.Id})
                </p>

                @*@if (Model.ServerData.Status == JsonServerStatus.Online)
                    {
                    <div class="progress progress-striped active" style="width: 500px">
                        <div class="progress-bar" style="width: @((int)((float)Model.ServerData.PlayerCount / Model.ServerData.MaxPlayerCount * 100f))%"></div>
                    </div>
                    }*@
            </div>
        </div>
        <p>Описание:
        <p>@Model.Description</p>
        </p>
}
else
{
    <h2>Ошибка</h2>
    <p>@ViewBag.Error</p>
}